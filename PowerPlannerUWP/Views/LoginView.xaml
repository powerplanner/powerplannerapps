<views:PopupViewHostGeneric
    Title="{x:Bind data:R.S('LoginPage.Title')}"

    xmlns:views="using:PowerPlannerUWP.Views"
    x:Name="thisPage"
    x:Class="PowerPlannerUWP.Views.LoginView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:PowerPlannerUWP.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    xmlns:data="using:PowerPlannerAppDataLibrary">

    <views:PopupViewHostGeneric.MainContent>
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <StackPanel Margin="20">

                    <TextBlock
                        Text="{x:Bind ViewModel.Message, Mode=OneWay}"
                        Style="{ThemeResource BodyTextBlockStyle}"
                        Visibility="{x:Bind ViewModel.Message, Mode=OneWay, Converter={StaticResource NotNullToVisibilityConverter}}"
                        Margin="0,0,0,18"/>

                    <AutoSuggestBox
                    x:Name="tbUsername"
                    Header="{x:Bind data:R.S('LoginPage_TextBoxUsername.Header')}"

                    KeyUp="tbUsername_KeyUp"
                    ItemsSource="{x:Bind ViewModel.AccountsWithRememberUsername}"
                    DisplayMemberPath="Username" TextMemberPath="Username"
                    Loaded="tbUsername_Loaded"
                        Text="{x:Bind ViewModel.Username, Mode=TwoWay}">

                        <AutoSuggestBox.TextBoxStyle>
                            <Style TargetType="TextBox">
                                <Setter Property="InputScope" Value="Default"/>
                                <Setter Property="IsTextPredictionEnabled" Value="False"/>
                                <Setter Property="IsSpellCheckEnabled" Value="False"/>
                            </Style>
                        </AutoSuggestBox.TextBoxStyle>

                    </AutoSuggestBox>

                    <PasswordBox
                    x:Name="tbPassword"
                    Header="{x:Bind data:R.S('LoginPage_TextBoxPassword.Header')}"

                    Margin="0,12,0,0"
                    KeyUp="tbPassword_KeyUp"
                        Password="{x:Bind ViewModel.Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                    <StackPanel
                    Margin="0,20,0,10"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right">

                        <TextBlock
                    Text="{x:Bind data:R.S('LoginPage_TextBlockForgotUsername.Text')}"

                    Foreground="{StaticResource PowerPlannerSecondaryBlue}"
                    FontSize="14"
                    x:Name="textBlockForgotUsername"
                    Tapped="textBlockForgotUsername_Tapped"/>

                        <TextBlock
                    Text="|"
                    FontSize="14"
                        Margin="5,0"
                    Foreground="{StaticResource PowerPlannerSecondaryBlue}"/>

                        <TextBlock
                    Text="{x:Bind data:R.S('LoginPage_TextBlockForgotPassword.Text')}"

                    x:Name="textBlockForgotPassword"
                    FontSize="14"
                    Foreground="{StaticResource PowerPlannerSecondaryBlue}"
                    Tapped="textBlockForgotPassword_Tapped"/>

                    </StackPanel>



                </StackPanel>


                <Button
                    Grid.Row="1"
                    x:Name="buttonLogin"
                    Content="{x:Bind data:R.S('WelcomePage_ButtonLogIn.Content')}"

                    Style="{StaticResource WelcomeButtonStyle}"
                    Click="buttonLogin_Click"
                    Margin="20,0,20,20"/>
            </Grid>
        </ScrollViewer>
    </views:PopupViewHostGeneric.MainContent>

</views:PopupViewHostGeneric>